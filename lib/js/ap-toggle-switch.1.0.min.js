!function(a){function h(a){a+="";var b=a[0].toUpperCase();return b+a.substr(1)}function i(c,d){var e=a(c).data(b);if(e)return e;var f="checkbox, radio".split(", ");return"input"!=a(c).tagName()?(console.log("Element is not supported."),!1):-1==f.indexOf(a(c).attr("type"))?(console.log("Elements type is not supported."),!1):(this.$target=a(c),this.settings=a.extend({},i.defaultSettings,d),this.customValues=!1,this._init(),this.$target.data(b,this),void 0)}var b="__apts__",c="apts",d=c+"-",e="apts",f="apts",g=0;String.prototype.ucfirst||(String.prototype.ucfirst=function(){return h(this)}),a.fn.tagName=function(){return this.prop("tagName").toLowerCase()},i.prototype={_init:function(){this._obtainControlProperties(),this._obtainValues(),this._applyMutuallyExclusive(),this._createControl(),this._updateTexts(),this._updateCssClasses(),this._bind(),this._updateSize(),this.settings.autoFocus&&this.$control.focus(),this._trigger("init")},_obtainControlProperties:function(){var b=this.settings.autoApplyProperties;"string"==typeof b&&(b=a.map(b.split(","),a.trim)),"object"==typeof b&&(b.indexOf("readonly")>-1&&this.$target.attr("readonly")&&(this.settings.readonly=!0),b.indexOf("disabled")>-1&&this.$target.attr("disabled")&&(this.settings.disabled=!0),b.indexOf("autofocus")>-1&&!this.$target.attr("autofocus")&&(this.settings.autoFocus=!0))},_obtainValues:function(){var a=this.settings.values;if(this.$target.data("values"))a=this.$target.data("values");else if(this.$target.data("on")||this.$target.data("off")){var b=this.$target.data("on")?this.$target.data("on"):"",c=this.$target.data("off")?this.$target.data("off"):"";a=b+this.settings.valueSplitter+c}this._parseCustomValues(a),this.$target.attr("value")&&this.customValues&&this.customValues.on!=this.$target.attr("value")&&(this.customValues.on=this.$target.attr("value"))},_parseCustomValues:function(a){if(a)if("string"==typeof a){var a=a.split(this.settings.valueSplitter);if(a.length>=1)return this.customValues={on:a[0].length>0?a[0]:null,off:a.length>=2&&a[1].length>0?a[1]:null},void 0}else if("object"==typeof a){var b=[0,"on","true"],c=null;for(index in b)if(a.hasOwnProperty(b[index])){c=a[b[index]];break}var b=[1,"off","false"],d=null;for(index in b)if(a.hasOwnProperty(b[index])){d=a[b[index]];break}if(null!=c||null!=d)return this.customValues={on:c,off:d},void 0}this.customValues=!1},_applyMutuallyExclusive:function(){this.settings.mutuallyExclusive&&this.$target.is(":checked")&&("string"!=typeof this.settings.mutuallyExclusive||a(this.settings.mutuallyExclusive+":checked:last").is(this.$target)?this.$target.attr("name")&&!a('input[name="'+this.$target.attr("name")+'"]:checked:last').is(this.$target)&&this.$target.prop("checked",!1).removeAttr("checked"):this.$target.prop("checked",!1).removeAttr("checked"))},_updateValue:function(b){if(b&&(this.settings.mutuallyExclusive||"radio"==this.$target.attr("type"))){var c=this._getMutuallyExclusiveSelector();c&&a(c).apToggleSwitch("setOff",this)}b?(this.$target.prop("checked",!0).attr("checked","checked"),"checkbox"==this.$target.attr("type")&&this.customValues&&(this.customValues.on?this.$target.attr("value")!=this.customValues.on&&this.$target.attr("value",this.customValues.on):this.$target.removeAttr("value"))):"checkbox"==this.$target.attr("type")&&this.customValues&&this.customValues.off&&this.$target.attr("value")!=this.customValues.off?this.$target.attr("value",this.customValues.off):(this.customValues&&this.customValues.on&&this.$target.attr("value")!=this.customValues.on&&this.$target.attr("value",this.customValues.on),this.$target.prop("checked",!1).removeAttr("checked")),this.$target.trigger("change")},_getMutuallyExclusiveSelector:function(){var a=null;if("string"==typeof this.settings.mutuallyExclusive)var a=this.settings.mutuallyExclusive+":checked";else if(this.$target.attr("name"))var a='input[name="'+this.$target.attr("name")+'"]:checked';return a},_createControl:function(){this.$control=a(i.controlTemplate),this.$controlOn=this.$control.find("."+d+"on"),this.$controlOff=this.$control.find("."+d+"off"),this.$control.attr("id",d+(this.$target.attr("id")?this.$target.attr("id"):g++)),this._applyTabIndex(),this.valueBackup=this.$target.attr("value"),this.$control.addClass(d+(this.$target.is(":checked")?"on":"off")),this.$target.is(":checked")?this.customValues&&this.customValues.on&&this.$target.attr("value",this.customValues.on):"checkbox"==this.$target.attr("type")&&this.customValues&&this.customValues.off&&this.$target.prop("checked",!0).attr("checked","checked").attr("value",this.customValues.off),this.$target.after(this.$control).appendTo(this.$control)},_restoreTargetElement:function(){this.settings.restoreValueAfterDestruction&&(this.valueBackup?this.$target.attr("value",this.valueBackup):this.$target.removeAttr("value")),this.isOn()?this.$target.prop("checked",!0).attr("checked","checked"):this.$target.prop("checked",!1).removeAttr("checked"),this.$control.after(this.$target).remove()},_applyTabIndex:function(){var a=this.$target.attr("tabindex");a&&a>0?this.$target.removeAttr("tabindex"):a=-1,this.$control.attr("tabindex",a)},_resetTabIndex:function(){var a=this.$control.attr("tabindex",a);a>-1&&(this.$control.removeAttr("tabindex"),this.$target.attr("tabindex",a))},_updateTexts:function(){var a=this._triggerHandler("beforeUpdateTexts");if(a!==!1){if("string"==typeof a)var b=a.split(this.settings.textSplitter);else var b=this.settings.text.split(this.settings.textSplitter);b.length>=1&&"string"==typeof b[0]&&this.$controlOn.children("."+d+"text").html(b[0]),b.length>=2&&"string"==typeof b[1]&&this.$controlOff.children("."+d+"text").html(b[1]),this._trigger("updateTexts")}},_updateCssClasses:function(){this._modifyCssClass(this.customValues?"add":"remove","custom-values"),this._modifyCssClass("add","size-"+this.settings.size),this._modifyCssClass(this.settings.readonly?"add":"remove","readonly"),this._modifyCssClass(this.settings.readonly&&this.settings.showLock?"add":"remove","readonly-lock"),this._modifyCssClass(this.settings.disabled?"add":"remove","disabled"),this._modifyCssClass(this.settings.uppercase?"add":"remove","uppercase"),this._modifyCssClass("add","theme-"+this.settings.theme),this._modifyCssClass(this.settings.color&&"string"==typeof this.settings.color?"add":"remove","color-"+this.settings.color),this._modifyCssClass("add","slider-"+this.settings.sliderType),this._modifyCssClass(this.settings.activeBorder?"add":"remove","active-border"),this._modifyCssClass(this.settings.roundCorners?"add":"remove","round-corners"),this._modifyCssClass(this.settings.slideAnimation?"remove":"add","no-slide-animation"),this._trigger("updateCssClasses")},_modifyCssClass:function(a,b){b=d+b;var c=this.$control.hasClass(b);c||"add"!=a||this.$control.addClass(b),c&&"remove"==a&&this.$control.removeClass(b)},_updateSize:function(){if("auto"==this.settings.statusVisibilityWidth)var a=11+.27*(this.$control.height()-25);else var a=parseInt(this.settings.statusVisibilityWidth);var b=this._obtainTextPadding(),c=this._obtainMaxTextWidth(),e=c+2*b+a,f=c+2*b+a,g=c+2*b+3*a;this.$control.css("width",Math.round(e*this.settings.widthMultiplier)),this.$controlOn.css("width",Math.round(f*this.settings.widthMultiplier)),this.$controlOn.children("."+d+"text").css({left:Math.round(b*this.settings.widthMultiplier),width:Math.round(c*this.settings.widthMultiplier)}),this.$controlOff.css({left:Math.round(-a*this.settings.widthMultiplier),width:Math.round(g*this.settings.widthMultiplier)}),this.$controlOff.children("."+d+"text").css({left:Math.round((b+a+2)*this.settings.widthMultiplier),width:Math.round(c*this.settings.widthMultiplier)}),this.$controlOn.data("sliderLeft",Math.round(a*this.settings.widthMultiplier)),this.$controlOff.data("sliderLeft",Math.round(0-(c+2*b)*this.settings.widthMultiplier-2)),this._updateHeadCss(),this._trigger("updateSize")},_obtainTextPadding:function(){if("auto"==this.settings.padding){var a={auto:7,small:7,medium:10,large:12,xl:15,xxl:18,xxxl:25},b=a[this.settings.size];b||(b=a.auto)}else var b=parseInt(this.settings.padding);return b},_obtainMaxTextWidth:function(){$hiddenContainer=a("<div></div>").css("visibility","hidden").appendTo(a("body")).append(a("<div></div>").addClass(c).addClass(d+"size-"+this.settings.size).addClass(d+"theme-"+this.settings.theme).append(this.$controlOn.clone()).append(this.$controlOff.clone())),this.settings.uppercase&&$hiddenContainer.find("."+c).addClass(d+"uppercase");var b={on:$hiddenContainer.find("."+d+"on ."+d+"text").removeAttr("style").width(),off:$hiddenContainer.find("."+d+"off ."+d+"text").removeAttr("style").width()};return $hiddenContainer.remove(),Math.max(b.on,b.off)},_updateHeadCss:function(){this._removeHeadCss();var b=this.$control.attr("id"),c="#"+b+"."+d+"on > ."+d+"slider { left: "+this.$controlOn.data("sliderLeft")+"px; }\n"+"#"+b+"."+d+"off > ."+d+"slider { left: "+this.$controlOff.data("sliderLeft")+"px; }\n";if(this.settings.slideAnimation){var e=(parseInt(this.settings.animationDuration)/1e3).toFixed(3)+"s";c+="#"+b+" ."+d+"slider {\n"+"	-webkit-transition: left "+e+";\n"+"	   -moz-transition: left "+e+";\n"+"	    -ms-transition: left "+e+";\n"+"	     -o-transition: left "+e+";\n"+"	        transition: left "+e+";\n"+"	}\n"}var f=this._triggerHandler("beforeUpdateHeadCss",[c]);f!==!1&&("string"==typeof f&&(c=f),this.headCssStyle=a("<style type='text/css'>\n"+c+"</style>").appendTo("head"),this._trigger("updateHeadCss",[c]))},_removeHeadCss:function(){this.headCssStyle&&(this.headCssStyle.remove(),this.headCssStyle=null,this._trigger("removeHeadCss"))},_bind:function(){var b=this;this.$control.on("click."+e,function(a){b.toggle(),a.preventDefault(),a.stopImmediatePropagation()});var c=this.$target.attr("id");if(this.settings.handleLabelClicks&&c&&a('label[for="'+c+'"]').on("click."+e,function(a){return b.toggle(),a.preventDefault(),!1}),this.settings.handleKeyEvents){var d=32,f=13,g=37,h=39,i=89,j=78;this.$control.on("keydown."+e,function(a){switch(a.keyCode){case d:case f:b.toggle(),a.preventDefault();break;case h:case i:b.setOn(),a.preventDefault();break;case g:case j:b.setOff(),a.preventDefault()}})}},_unbind:function(){this.$control.off("click."+e),this.$target.attr("id")&&a('label[for="'+this.$target.attr("id")+'"]').off("click."+e),this.$control.off("keydown."+e)},_getValue:function(a){return a?this.customValues?this.customValues.on:!0:this.customValues?this.customValues.off:!1},_trigger:function(a,b,c){var d="on"+a.ucfirst(),e=this.settings[d];c=c?c:this.$target,"function"==typeof e&&e.apply(c,b),a=f+a.ucfirst(),c.trigger(a,b)},_triggerHandler:function(a,b,c){var h,d="on"+a.ucfirst(),e=this.settings[d],g=void 0;return c=c?c:this.$target,"function"==typeof e&&(g=e.apply(c,b)),a=f+a.ucfirst(),h=void 0!==(h=c.triggerHandler(a,b))?h:g},toggle:function(){if(this.settings.readonly||this.settings.disabled)return!1;var a=this.isOn();if(!a||!this.settings.mutuallyExclusive&&"radio"!=this.$target.attr("type")||this.settings.exclusiveDeselectable||this.sender){var b=this._getValue(!a);this._triggerHandler("beforeSetValue",[b])!==!1&&(this._updateValue(!a),this.$control.toggleClass(d+"on "+d+"off"),this._trigger("setValue",[b]))}},setOn:function(){this.$control.hasClass(d+"off")&&this.toggle()},setOff:function(a){this.sender=a;try{this.$control.hasClass(d+"on")&&this.toggle()}finally{this.sender=null}},isOn:function(){return this.$control.hasClass(d+"on")},isOff:function(){return this.$control.hasClass(d+"off")},getValue:function(){return this._getValue(this.isOn())},setValue:function(a){this.customValues?a==this.customValues.on?this.setOn():a==this.customValues.off&&this.setOff():a===!0||"true"==a||1==a||"1"==a?this.setOn():(a===!1||"false"==a||0==a||"0"==a)&&this.setOff()},val:function(a){return void 0==a?this.getValue():(this.setValue(a),void 0)},option:function(b,c){if(!b)return a.extend({},this.settings);var d;if("string"==typeof b){if(1===arguments.length)return void 0!==this.settings[b]?this.settings[b]:null;d={},d[b]=c}else d=b;this._setOptions(d)},_setOptions:function(b){for(key in b){var c=b[key];switch(key){case"size":this._modifyCssClass("remove","size-"+this.settings.size);break;case"theme":this._modifyCssClass("remove","theme-"+this.settings.theme);break;case"color":this.settings.color&&this._modifyCssClass("remove","theme-"+this.settings.color);break;case"sliderType":this._modifyCssClass("remove","slider-"+this.settings.sliderType);break;case"handleLabelClicks":case"handleKeyEvents":this._unbind()}switch(this.settings[key]=c,key){case"values":case"valueSplitter":this._parseCustomValues(this.settings.values),this._updateValue(this.isOn());break;case"handleLabelClicks":case"handleKeyEvents":this._bind();break;case"mutuallyExclusive":if(this.settings.mutuallyExclusive&&"radio"!=this.$target.attr("type")&&this.isOn()){var d=this._getMutuallyExclusiveSelector();d&&!a(d).last().is(this.$target)&&this.setOff(this)}break;case"size":case"readonly":case"showLock":case"disabled":case"uppercase":case"theme":case"color":case"sliderType":case"activeBorder":case"roundCorners":case"slideAnimation":case"animationDuration":this._updateCssClasses();case"text":case"textSplitter":this._updateTexts();case"size":case"statusVisibilityWidth":case"widthMultiplier":case"text":case"textSplitter":case"padding":case"theme":this._updateSize()}}},destroy:function(a){"boolean"==typeof a&&(this.settings.restoreValueAfterDestruction=a),this._trigger("destroy"),this._unbind(),this._removeHeadCss(),this._resetTabIndex(),this._restoreTargetElement(),this.$target.removeData(b)}},a.fn.apToggleSwitch=function(c){if("string"==typeof c){var d,e,g=[],h=Array.prototype.slice.call(arguments,1);return this.each(function(){if(d=a(this).data(b)){if("function"==typeof(e=d[c])&&"_"!==c.charAt(0)){var f=e.apply(d,h);void 0!==f&&g.push(f)}}else g.push(void 0)}),g.length?1===g.length?g[0]:g:this}return this.each(function(){new i(this,c)})},i.defaultSettings={size:"auto",statusVisibilityWidth:"auto",widthMultiplier:1,autoApplyProperties:["readonly","disabled","autofocus"],text:"On|Off",textSplitter:"|",values:null,valueSplitter:"|",readonly:!1,showLock:!0,disabled:!1,autoFocus:!1,mutuallyExclusive:null,exclusiveDeselectable:!0,padding:"auto",uppercase:!0,theme:"default",color:null,sliderType:"skew",activeBorder:!1,roundCorners:!0,slideAnimation:!0,animationDuration:200,handleLabelClicks:!0,handleKeyEvents:!0,restoreValueAfterDestruction:!0},i.controlTemplate='<div class="'+c+'">'+'<div class="'+d+'slider">'+'<div class="'+d+'on"><span class="'+d+'text">On</span></div>'+'<div class="'+d+'off"><span class="'+d+'text">Off</span></div>'+"</div>"+'<div class="'+d+'overlay"></div>'+"</div>"}(jQuery);